# Exemples BBIA-SIM

Ce dossier contient des exemples pratiques pour utiliser BBIA-SIM.

## Scripts disponibles

### `hello_sim.py` - Simulation MuJoCo simple
Lance une simulation MuJoCo headless pour tester les performances.

```bash
python examples/hello_sim.py --duration 2 --verbose
```

**R√©sultat attendu** : Simulation 2s, affichage steps/s

### `goto_pose.py` - Contr√¥le mouvement robot
Contr√¥le une articulation du robot via l'API REST.

```bash
python examples/goto_pose.py --token dev --joint neck_yaw --pos 0.6
```

**R√©sultat attendu** : Position articulation chang√©e, confirmation API

### `subscribe_telemetry.py` - T√©l√©m√©trie WebSocket
S'abonne √† la t√©l√©m√©trie temps r√©el via WebSocket.

```bash
python examples/subscribe_telemetry.py --token dev --count 5
```

**R√©sultat attendu** : 5 messages de t√©l√©m√©trie affich√©s

### `demo_emotion_ok.py` - D√©mo √âmotion ‚Üí Pose (RobotAPI)
D√©mo BBIA utilisant le backend unifi√© RobotAPI.

```bash
# Mode headless (test)
python examples/demo_emotion_ok.py --emotion happy --duration 5 --headless --backend mujoco

# Mode graphique (voir 3D)
mjpython examples/demo_emotion_ok.py --emotion happy --duration 10 --backend mujoco
```

**R√©sultat attendu** : Animation √©motion ‚Üí joint, backend unifi√©

### `demo_emotion_fixed.py` - D√©mo 3D Stable
D√©mo 3D stable utilisant MuJoCo directement.

```bash
# Voir la 3D (stable)
mjpython examples/demo_emotion_fixed.py --emotion happy --duration 10 --intensity 0.8
```

**R√©sultat attendu** : Fen√™tre 3D stable, animation fluide

### `demo_voice_ok.py` - D√©mo Voix ‚Üí Action
D√©mo BBIA Voix utilisant RobotAPI.

```bash
python examples/demo_voice_ok.py --command "regarde-moi" --duration 5 --headless --backend mujoco
```

**R√©sultat attendu** : Commande vocale ‚Üí action robot

### `demo_vision_ok.py` - D√©mo Vision ‚Üí Tracking
D√©mo BBIA Vision utilisant RobotAPI.

```bash
python examples/demo_vision_ok.py --target "virtual_target" --duration 5 --headless --backend mujoco
```

**R√©sultat attendu** : Tracking visuel ‚Üí mouvement robot

### `demo_behavior_ok.py` - D√©mo Comportement ‚Üí Sc√©nario
D√©mo BBIA Comportement utilisant RobotAPI.

```bash
python examples/demo_behavior_ok.py --behavior "wake_up" --duration 5 --headless --backend mujoco
```

**R√©sultat attendu** : Comportement complexe ‚Üí s√©quence d'actions

## üéØ **Backend Unifi√©**

Toutes les d√©mos supportent le backend unifi√© :

```bash
# Simulation MuJoCo
--backend mujoco

# Robot r√©el (mock)
--backend reachy
```

## üìä **M√©triques**

- **Tests** : 441 tests passent (79% r√©ussite)
- **Coverage** : 68.86%
- **Performance** : <5s par test smoke
- **Golden Tests** : 3 traces r√©f√©rence + validation

## Pr√©requis

1. **API d√©marr√©e** :
   ```bash
   BBIA_ENV=prod BBIA_TOKEN=dev uvicorn src.bbia_sim.daemon.app.main:app --port 8000
   ```

2. **D√©pendances install√©es** :
   ```bash
   pip install httpx websockets
   ```

## Codes de sortie

- `0` : Succ√®s
- `1` : Erreur (d√©tails dans la sortie)

## Troubleshooting

- **Erreur connexion API** : V√©rifier que l'API est d√©marr√©e sur le bon port
- **Token invalide** : Utiliser le m√™me token que l'API (`dev` par d√©faut)
- **Timeout WebSocket** : V√©rifier que la t√©l√©m√©trie est activ√©e
