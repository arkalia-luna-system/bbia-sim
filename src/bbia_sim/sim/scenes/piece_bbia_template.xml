<?xml version="1.0" encoding="UTF-8"?>
<!-- 
  Scène BBIA - Pièce avec Textures Procreate
  Template pour créer une pièce avec vos images/textures
  
  Instructions :
  1. Créer vos textures avec Procreate (mur, sol, plafond)
  2. Placer images dans assets/textures/
  3. Modifier chemins fichiers ci-dessous
  4. Ajuster dimensions pièce selon vos besoins
-->
<mujoco model="piece_bbia">
  <compiler angle="radian" meshdir="../../assets/reachy_official"/>
  
  <asset>
    <!-- VOS TEXTURES PROCREATE (modifier chemins selon vos fichiers) -->
    <texture name="texture_mur" type="2d" file="../../../assets/textures/mur.png"/>
    <texture name="texture_sol" type="2d" file="../../../assets/textures/sol.png"/>
    <texture name="texture_plafond" type="2d" file="../../../assets/textures/plafond.png"/>
    
    <!-- Matériaux utilisant vos textures -->
    <material name="mat_mur" texture="texture_mur"/>
    <material name="mat_sol" texture="texture_sol"/>
    <material name="mat_plafond" texture="texture_plafond"/>
    
    <!-- Skybox BBIA (fond d'environnement) -->
    <texture name="skybox_bbia" type="skybox" builtin="gradient" 
             rgb1="0.92 0.92 0.93" rgb2="0.53 0.74 0.98" width="512" height="512"/>
  </asset>
  
  <worldbody>
    <!-- Sol avec votre texture -->
    <geom name="sol" type="plane" size="3 3 0.1" material="mat_sol" pos="0 0 0" 
          contype="1" conaffinity="1"/>
    
    <!-- Murs de la pièce (4 murs) -->
    <!-- Mur fond (arrière) -->
    <body name="mur_fond" pos="0 2 1">
      <geom type="box" size="0.1 3 1.5" material="mat_mur" contype="0" conaffinity="0"/>
    </body>
    
    <!-- Mur gauche -->
    <body name="mur_gauche" pos="-2 0 1">
      <geom type="box" size="0.1 3 1.5" material="mat_mur" contype="0" conaffinity="0"/>
    </body>
    
    <!-- Mur droite -->
    <body name="mur_droite" pos="2 0 1">
      <geom type="box" size="0.1 3 1.5" material="mat_mur" contype="0" conaffinity="0"/>
    </body>
    
    <!-- Mur avant (devant robot, optionnel avec ouverture) -->
    <!-- Commenté par défaut pour voir le robot -->
    <!--
    <body name="mur_avant" pos="0 -2 1">
      <geom type="box" size="0.1 3 1.5" material="mat_mur" contype="0" conaffinity="0"/>
    </body>
    -->
    
    <!-- Plafond -->
    <body name="plafond" pos="0 0 2.5">
      <geom type="box" size="3 3 0.1" material="mat_plafond" contype="0" conaffinity="0"/>
    </body>
    
    <!-- Bureau blanc (sur lequel repose le robot) -->
    <body name="bureau_bbia" pos="0 0 0.16">
      <geom name="pied_1" type="cylinder" size="0.01 0.075" pos="-0.35 -0.25 0.075" 
            rgba="1.0 1.0 1.0 1.0" contype="1" conaffinity="1"/>
      <geom name="pied_2" type="cylinder" size="0.01 0.075" pos="0.35 -0.25 0.075" 
            rgba="1.0 1.0 1.0 1.0" contype="1" conaffinity="1"/>
      <geom name="pied_3" type="cylinder" size="0.01 0.075" pos="-0.35 0.25 0.075" 
            rgba="1.0 1.0 1.0 1.0" contype="1" conaffinity="1"/>
      <geom name="pied_4" type="cylinder" size="0.01 0.075" pos="0.35 0.25 0.075" 
            rgba="1.0 1.0 1.0 1.0" contype="1" conaffinity="1"/>
      <geom name="tabletop" type="box" size="0.4 0.3 0.01" pos="0 0 0.16" 
            rgba="1.0 1.0 1.0 1.0" contype="1" conaffinity="1"/>
    </body>
    
    <!-- Robot Reachy Mini (inclu depuis modèle principal) -->
    <include file="../models/reachy_mini_REAL_OFFICIAL.xml"/>
    
    <!-- Éclairage -->
    <light pos="0 0 3" dir="0 0 -1" diffuse="0.8 0.8 0.8"/>
    <light pos="2 2 2" dir="-1 -1 -1" diffuse="0.4 0.4 0.4"/>
  </worldbody>
</mujoco>

