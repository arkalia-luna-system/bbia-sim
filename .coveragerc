[run]
# Inclure tous les fichiers source Python
source = src

# Exclure les fichiers de test et les fichiers temporaires
omit = 
    */tests/*
    */test_*
    */__pycache__/*
    */venv/*
    */env/*
    */build/*
    */dist/*
    */site-packages/*
    */migrations/*
    */node_modules/*
    */.*
    */temp/*
    */tmp/*

# Inclure les fichiers même s'ils ne sont pas importés
include = src/bbia_sim/**/*.py

# Exclure les lignes spécifiques (commentaires, docstrings, etc.)
# Cette option a été déplacée vers [report] dans les versions récentes

[report]
# Seuil minimum de coverage (ajusté pour être réaliste)
fail_under = 1

# Exclure les fichiers avec coverage très faible
skip_covered = False

# Afficher les fichiers manqués
show_missing = True

# Exclure les lignes spécifiques (commentaires, docstrings, etc.)
exclude_lines =
    pragma: no cover
    def __repr__
    if self.debug:
    if settings.DEBUG
    raise AssertionError
    raise NotImplementedError
    if 0:
    if __name__ == .__main__.:
    class .*\bProtocol\):
    @(abc\.)?abstractmethod

# Afficher les branches manquées (option supprimée dans les versions récentes)
# show_missing_branches = True

# Format de sortie
precision = 2

# Ignorer les erreurs de coverage
ignore_errors = True

[html]
# Répertoire pour le rapport HTML
directory = htmlcov

# Titre du rapport
title = BBIA Reachy Mini Simulation Coverage Report

[xml]
# Fichier de sortie XML
output = coverage.xml