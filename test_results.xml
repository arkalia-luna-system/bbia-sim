<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="1" failures="5" skipped="0" tests="20" time="95.941" timestamp="2025-11-01T20:35:19.018528+01:00" hostname="Mac"><testcase classname="tests.e2e.test_api_simu_roundtrip.TestAPISimuRoundtrip" name="test_joint_position_roundtrip" time="0.058" /><testcase classname="tests.e2e.test_api_simu_roundtrip.TestAPISimuRoundtrip" name="test_multiple_joints_simultaneous" time="0.005" /><testcase classname="tests.e2e.test_api_simu_roundtrip.TestAPISimuRoundtrip" name="test_joint_limits_clamping" time="0.005" /><testcase classname="tests.e2e.test_api_simu_roundtrip.TestAPISimuRoundtrip" name="test_invalid_joint_name" time="0.005" /><testcase classname="tests.e2e.test_api_simu_roundtrip.TestAPISimuRoundtrip" name="test_api_status_endpoints" time="0.005" /><testcase classname="tests.e2e.test_bbia_modules_e2e.TestBBIAModules" name="test_bbia_emotions_module" time="0.000" /><testcase classname="tests.e2e.test_bbia_modules_e2e.TestBBIAModules" name="test_bbia_vision_module" time="2.758" /><testcase classname="tests.e2e.test_bbia_modules_e2e.TestBBIAModules" name="test_bbia_voice_functions" time="0.253" /><testcase classname="tests.e2e.test_bbia_modules_e2e.TestBBIAModules" name="test_bbia_audio_functions" time="0.023" /><testcase classname="tests.e2e.test_bbia_modules_e2e.TestBBIAModules" name="test_bbia_with_api_integration" time="1.798" /><testcase classname="tests.e2e.test_e2e_face_detection_greeting.TestE2EFaceDetectionGreeting" name="test_bbia_detects_face_and_greets" time="0.967" /><testcase classname="tests.e2e.test_e2e_face_detection_greeting.TestE2EFaceDetectionGreeting" name="test_bbia_detects_face_tracks_and_greets" time="0.191" /><testcase classname="tests.e2e.test_e2e_face_detection_greeting.TestE2EFaceDetectionGreeting" name="test_bbia_full_face_interaction_flow" time="0.090" /><testcase classname="tests.e2e.test_e2e_full_interaction_loop.TestE2EFullInteractionLoop" name="test_bbia_full_interaction" time="75.387"><failure message="SystemExit: 1">tests/e2e/test_e2e_full_interaction_loop.py:66: in test_bbia_full_interaction
    audio_text = reconnaitre_parole()
src/bbia_sim/bbia_voice.py:425: in reconnaitre_parole
    audio = r.listen(source, phrase_time_limit=duree)
venv/lib/python3.10/site-packages/speech_recognition/__init__.py:460: in listen
    for a in result:
venv/lib/python3.10/site-packages/speech_recognition/__init__.py:492: in _listen
    buffer = source.stream.read(source.CHUNK)
venv/lib/python3.10/site-packages/speech_recognition/__init__.py:191: in read
    return self.pyaudio_stream.read(size, exception_on_overflow=False)
venv/lib/python3.10/site-packages/pyaudio/__init__.py:570: in read
    return pa.read_stream(self._stream, num_frames,
tests/conftest.py:72: in signal_handler
    sys.exit(1)
E   SystemExit: 1</failure></testcase><testcase classname="tests.e2e.test_e2e_full_interaction_loop.TestE2EFullInteractionLoop" name="test_bbia_interactive_loop_multiple_turns" time="2.930"><failure message="SystemExit: 1">tests/e2e/test_e2e_full_interaction_loop.py:121: in test_bbia_interactive_loop_multiple_turns
    text1 = reconnaitre_parole()
src/bbia_sim/bbia_voice.py:425: in reconnaitre_parole
    audio = r.listen(source, phrase_time_limit=duree)
venv/lib/python3.10/site-packages/speech_recognition/__init__.py:460: in listen
    for a in result:
venv/lib/python3.10/site-packages/speech_recognition/__init__.py:492: in _listen
    buffer = source.stream.read(source.CHUNK)
venv/lib/python3.10/site-packages/speech_recognition/__init__.py:191: in read
    return self.pyaudio_stream.read(size, exception_on_overflow=False)
venv/lib/python3.10/site-packages/pyaudio/__init__.py:570: in read
    return pa.read_stream(self._stream, num_frames,
tests/conftest.py:72: in signal_handler
    sys.exit(1)
E   SystemExit: 1</failure></testcase><testcase classname="tests.e2e.test_e2e_voice_interaction.TestE2EVoiceInteraction" name="test_bbia_listens_and_responds" time="0.150"><failure message="SystemExit: 1">tests/e2e/test_e2e_voice_interaction.py:50: in test_bbia_listens_and_responds
    transcribed = reconnaitre_parole()
src/bbia_sim/bbia_voice.py:422: in reconnaitre_parole
    with sr.Microphone(sample_rate=frequence) as source:
venv/lib/python3.10/site-packages/speech_recognition/__init__.py:170: in __enter__
    self.audio.open(
venv/lib/python3.10/site-packages/pyaudio/__init__.py:639: in open
    stream = PyAudio.Stream(self, *args, **kwargs)
venv/lib/python3.10/site-packages/pyaudio/__init__.py:447: in __init__
    pa.start_stream(self._stream)
tests/conftest.py:72: in signal_handler
    sys.exit(1)
E   SystemExit: 1</failure></testcase><testcase classname="tests.e2e.test_e2e_voice_interaction.TestE2EVoiceInteraction" name="test_bbia_voice_command_to_action" time="0.034" /><testcase classname="tests.e2e.test_e2e_voice_interaction.TestE2EVoiceInteraction" name="test_bbia_full_voice_interaction_flow" time="0.300"><failure message="SystemExit: 1">tests/e2e/test_e2e_voice_interaction.py:105: in test_bbia_full_voice_interaction_flow
    text = reconnaitre_parole()
src/bbia_sim/bbia_voice.py:425: in reconnaitre_parole
    audio = r.listen(source, phrase_time_limit=duree)
venv/lib/python3.10/site-packages/speech_recognition/__init__.py:460: in listen
    for a in result:
venv/lib/python3.10/site-packages/speech_recognition/__init__.py:492: in _listen
    buffer = source.stream.read(source.CHUNK)
venv/lib/python3.10/site-packages/speech_recognition/__init__.py:191: in read
    return self.pyaudio_stream.read(size, exception_on_overflow=False)
venv/lib/python3.10/site-packages/pyaudio/__init__.py:570: in read
    return pa.read_stream(self._stream, num_frames,
tests/conftest.py:72: in signal_handler
    sys.exit(1)
E   SystemExit: 1</failure></testcase><testcase classname="tests.e2e.test_e2e_wake_up_sequence.TestE2EWakeUpSequence" name="test_bbia_wakes_up_emotion_movement" time="0.026"><failure message="AssertionError: assert None == 'excited'&#10; +  where None = &lt;built-in method get of dict object at 0x146f07a80&gt;('emotion')&#10; +    where &lt;built-in method get of dict object at 0x146f07a80&gt; = {'yeux': 'Cercles vibrants', 'antennes': 'Vibrantes', 'tete': 'Relev\xe9e, regard enthousiaste', 'description': 'Excitation, enthousiasme, \xe9nergie', 'color': '\U0001f929', 'name': 'excited', 'intensity': '0.8', 'timestamp': '2025-11-01T20:36:54.562848'}.get">tests/e2e/test_e2e_wake_up_sequence.py:50: in test_bbia_wakes_up_emotion_movement
    assert current_emotion.get("emotion") == "excited"
E   AssertionError: assert None == 'excited'
E    +  where None = &lt;built-in method get of dict object at 0x146f07a80&gt;('emotion')
E    +    where &lt;built-in method get of dict object at 0x146f07a80&gt; = {'yeux': 'Cercles vibrants', 'antennes': 'Vibrantes', 'tete': 'Relev\xe9e, regard enthousiaste', 'description': 'Excitation, enthousiasme, \xe9nergie', 'color': '\U0001f929', 'name': 'excited', 'intensity': '0.8', 'timestamp': '2025-11-01T20:36:54.562848'}.get</failure></testcase><testcase classname="pytest" name="internal" time="0.000"><error message="internal error">Traceback (most recent call last):
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/main.py", line 289, in wrap_session
    session.exitstatus = doit(config, session) or 0
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/main.py", line 343, in _main
    config.hook.pytest_runtestloop(session=session)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 167, in _multicall
    raise exception
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    teardown.throw(exception)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/logging.py", line 801, in pytest_runtestloop
    return (yield)  # Run all the tests.
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    teardown.throw(exception)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/terminal.py", line 688, in pytest_runtestloop
    result = yield
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    teardown.throw(exception)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pytest_cov/plugin.py", line 345, in pytest_runtestloop
    result = yield
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/main.py", line 367, in pytest_runtestloop
    item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 167, in _multicall
    raise exception
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    teardown.throw(exception)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/warnings.py", line 90, in pytest_runtest_protocol
    return (yield)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    teardown.throw(exception)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/assertion/__init__.py", line 192, in pytest_runtest_protocol
    return (yield)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    teardown.throw(exception)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 53, in run_old_style_hookwrapper
    return result.get_result()
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_result.py", line 103, in get_result
    raise exc.with_traceback(tb)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 38, in run_old_style_hookwrapper
    res = yield
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    teardown.throw(exception)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/unittest.py", line 475, in pytest_runtest_protocol
    return (yield)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    teardown.throw(exception)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/faulthandler.py", line 88, in pytest_runtest_protocol
    return (yield)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/runner.py", line 117, in pytest_runtest_protocol
    runtestprotocol(item, nextitem=nextitem)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/runner.py", line 130, in runtestprotocol
    rep = call_and_report(item, "setup", log)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/runner.py", line 248, in call_and_report
    report: TestReport = ihook.pytest_runtest_makereport(item=item, call=call)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_hooks.py", line 512, in __call__
    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_manager.py", line 120, in _hookexec
    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 167, in _multicall
    raise exception
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    teardown.throw(exception)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/tmpdir.py", line 308, in pytest_runtest_makereport
    rep = yield
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 139, in _multicall
    teardown.throw(exception)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/skipping.py", line 275, in pytest_runtest_makereport
    rep = yield
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/pluggy/_callers.py", line 121, in _multicall
    res = hook_impl.function(*args)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/runner.py", line 368, in pytest_runtest_makereport
    return TestReport.from_item_and_call(item, call)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/reports.py", line 379, in from_item_and_call
    longrepr = item._repr_failure_py(
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/nodes.py", line 456, in _repr_failure_py
    return excinfo.getrepr(
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/_code/code.py", line 766, in getrepr
    return fmt.repr_excinfo(self)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/_code/code.py", line 1202, in repr_excinfo
    reprtraceback = self.repr_traceback(excinfo_)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/_code/code.py", line 1134, in repr_traceback
    entries = [
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/_code/code.py", line 1135, in &lt;listcomp&gt;
    self.repr_traceback_entry(entry, excinfo if last == entry else None)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/_code/code.py", line 1065, in repr_traceback_entry
    source = self._getentrysource(entry)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/_code/code.py", line 903, in _getentrysource
    source = entry.getsource(self.astcache)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/_code/code.py", line 300, in getsource
    astnode, _, end = getstatementrange_ast(
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/_code/source.py", line 193, in getstatementrange_ast
    start, end = get_statement_startend2(lineno, astnode)
  File "/Volumes/T7/bbia-reachy-sim/venv/lib/python3.10/site-packages/_pytest/_code/source.py", line 157, in get_statement_startend2
    for x in ast.walk(node):
  File "/opt/homebrew/opt/pyenv/versions/3.10.14/lib/python3.10/ast.py", line 390, in walk
    todo.extend(iter_child_nodes(node))
  File "/opt/homebrew/opt/pyenv/versions/3.10.14/lib/python3.10/ast.py", line 274, in iter_child_nodes
    yield field
  File "/Volumes/T7/bbia-reachy-sim/tests/conftest.py", line 72, in signal_handler
    sys.exit(1)
SystemExit: 1</error></testcase></testsuite></testsuites>